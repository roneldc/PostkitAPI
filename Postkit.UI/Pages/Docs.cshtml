@page
@model IndexModel
@{
    ViewData["Title"] = "Postkit: Docs";
}
<div class="container py-5">
    <h1 class="display-5 fw-bold mb-4">API Overview</h1>
    <p class="lead text-muted mb-3">
        Below is a summary of the core endpoints available in the Postkit API. You can also explore the live Swagger documentation.
    </p>

    <a href="https://localhost:5001/swagger" target="_blank" class="text-primary fw-semibold text-decoration-underline mb-5 d-inline-block">
        View Swagger UI
    </a>

    <!-- Authentication & Account -->
    <div class="card shadow-sm mb-4">
        <div class="card-body">
            <h2 class="h5 fw-semibold mb-3">Authentication & Account</h2>
            <ul class="list-unstyled mb-0">
                <li><code class="bg-light px-2 py-1 rounded">POST /api/auth/register</code> – Register a new user</li>
                <li><code class="bg-light px-2 py-1 rounded">POST /api/auth/login</code> – Login and receive JWT</li>
                <li><code class="bg-light px-2 py-1 rounded">GET /api/account/me</code> – Get current authenticated user</li>
                <li><code class="bg-light px-2 py-1 rounded">POST /api/account/change-password</code> – Change password</li>
                <li><code class="bg-light px-2 py-1 rounded">GET /api/account/users</code> – List users (Admin)</li>
                <li><code class="bg-light px-2 py-1 rounded">POST /api/account/assign-role</code> – Assign user roles</li>
            </ul>
        </div>
    </div>

    <!-- Posts & Comments -->
    <div class="card shadow-sm mb-4">
        <div class="card-body">
            <h2 class="h5 fw-semibold mb-3">Posts & Comments</h2>
            <ul class="list-unstyled mb-0">
                <li><code class="bg-light px-2 py-1 rounded">GET /api/posts</code> – List all posts</li>
                <li><code class="bg-light px-2 py-1 rounded">GET /api/posts/{id}</code> – Get post by ID</li>
                <li><code class="bg-light px-2 py-1 rounded">POST /api/posts</code> – Create a new post</li>
                <li><code class="bg-light px-2 py-1 rounded">PUT /api/posts/{id}</code> – Update a post</li>
                <li><code class="bg-light px-2 py-1 rounded">DELETE /api/posts/{id}</code> – Delete a post</li>
                <li><code class="bg-light px-2 py-1 rounded">GET /api/comments?PostId={postId}</code> – List comments for a post</li>
                <li><code class="bg-light px-2 py-1 rounded">POST /api/posts/{postId}/comments</code> – Add a comment</li>
                <li><code class="bg-light px-2 py-1 rounded">DELETE /api/comments/{id}</code> – Delete a comment</li>
            </ul>
        </div>
    </div>

    <!-- Reactions -->
    <div class="card shadow-sm mb-4">
        <div class="card-body">
            <h2 class="h5 fw-semibold mb-3">Reactions</h2>
            <ul class="list-unstyled mb-0">
                <li><code class="bg-light px-2 py-1 rounded">POST /api/reactions</code> – React to a post or comment</li>
                <li><code class="bg-light px-2 py-1 rounded">GET /api/posts/{postId}/reactions</code> – Get reactions by post</li>
            </ul>
        </div>
    </div>

    <!-- Notifications -->
    <div class="card shadow-sm mb-4">
        <div class="card-body">
            <h2 class="h5 fw-semibold mb-3">Notifications</h2>
            <p class="text-muted mb-2">Real-time notifications are powered by SignalR:</p>
            <ul class="list-unstyled mb-0">
                <li>Client connects to <code class="bg-light px-2 py-1 rounded">/notificationHub</code></li>
                <li>Server pushes via <code class="bg-light px-2 py-1 rounded">Clients.User(userId).SendAsync()</code></li>
                <li>Common usage: notify on comment replies or reactions</li>
            </ul>
        </div>
    </div>

    <!-- Authorization -->
    <div class="card shadow-sm mb-4">
        <div class="card-body">
            <h2 class="h5 fw-semibold mb-3">Authorization</h2>
            <ul class="list-unstyled mb-0">
                <li>Use JWT in <code class="bg-light px-2 py-1 rounded">Authorization: Bearer &lt;token&gt;</code> header</li>
                <li>Admin-only routes like <code class="bg-light px-2 py-1 rounded">/assign-role</code></li>
            </ul>
        </div>
    </div>

    <!-- Example Request -->
    <div class="card shadow-sm mb-4">
        <div class="card-body">
            <h2 class="h5 fw-semibold mb-3">Example Request</h2>
            <pre class="bg-light p-3 rounded text-muted small">
POST /api/posts
Authorization: Bearer &lt;your_token&gt;

{
  "title": "First Post",
  "content": "This is the first post created via API."
}
      </pre>
        </div>
    </div>
</div>
